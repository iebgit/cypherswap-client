{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createOrUpdateBleeps = void 0;\nvar constants_1 = require(\"../../constants\");\nvar createBleep_1 = require(\"../createBleep\");\nvar updateBleep_1 = require(\"../updateBleep\");\nvar unloadBleep_1 = require(\"../unloadBleep\");\nvar unloadBleeps_1 = require(\"../unloadBleeps\");\nvar createOrUpdateBleeps = function (providedBleeps, audioSettings, playersSettings, bleepsSettings) {\n  var _a;\n  var bleeps = providedBleeps !== null && providedBleeps !== void 0 ? providedBleeps : {};\n  if ((_a = audioSettings.common) === null || _a === void 0 ? void 0 : _a.disabled) {\n    unloadBleeps_1.unloadBleeps(bleeps);\n    return bleeps;\n  }\n  Object.keys(bleepsSettings).forEach(function (bleepName) {\n    var _a, _b, _c, _d;\n    var bleepSettings = bleepsSettings[bleepName];\n    if (!bleepSettings) {\n      unloadBleep_1.unloadBleep(bleeps, bleepName);\n      return;\n    }\n    var bleepCategory = bleepSettings.category;\n    if (process.env.NODE_ENV !== 'production' && bleepCategory !== undefined && !constants_1.BLEEPS_CATEGORIES.includes(bleepCategory)) {\n      throw new Error(\"Bleep category \\\"\" + bleepCategory + \"\\\" is not valid.\");\n    }\n    var audioCategorySettings = (_a = audioSettings.categories) === null || _a === void 0 ? void 0 : _a[bleepCategory];\n    var processedAudioSettings = __assign(__assign({}, audioSettings.common), audioCategorySettings);\n    if (processedAudioSettings.disabled) {\n      unloadBleep_1.unloadBleep(bleeps, bleepName);\n      return;\n    }\n    var playerSettings = playersSettings[bleepSettings.player];\n    if (!playerSettings) {\n      throw new Error(\"Component bleep requires a provided player. Player \\\"\" + bleepSettings.player + \"\\\" was not found.\");\n    }\n    if (playerSettings.disabled) {\n      unloadBleep_1.unloadBleep(bleeps, bleepName);\n      return;\n    }\n    // If a bleep has updated `src` or `format` settings, it should be re-created.\n    // Otherwise it is updated to be fast and prevent more HTTP requests.\n    var hasBleepUpdatedSrc = !!((_b = bleeps[bleepName]) === null || _b === void 0 ? void 0 : _b._settings.src.find(function (v, i) {\n      return v !== playerSettings.src[i];\n    }));\n    var hasBleepUpdatedFormat = !!((_d = (_c = bleeps[bleepName]) === null || _c === void 0 ? void 0 : _c._settings.format) === null || _d === void 0 ? void 0 : _d.find(function (v, i) {\n      var _a;\n      return v !== ((_a = playerSettings.format) === null || _a === void 0 ? void 0 : _a[i]);\n    }));\n    if (bleeps[bleepName] && !hasBleepUpdatedSrc && !hasBleepUpdatedFormat) {\n      updateBleep_1.updateBleep(bleeps[bleepName], processedAudioSettings, playerSettings);\n    } else {\n      unloadBleep_1.unloadBleep(bleeps, bleepName);\n      bleeps[bleepName] = createBleep_1.createBleep(processedAudioSettings, playerSettings);\n    }\n  });\n  return bleeps;\n};\nexports.createOrUpdateBleeps = createOrUpdateBleeps;","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","defineProperty","exports","value","createOrUpdateBleeps","constants_1","require","createBleep_1","updateBleep_1","unloadBleep_1","unloadBleeps_1","providedBleeps","audioSettings","playersSettings","bleepsSettings","_a","bleeps","common","disabled","unloadBleeps","keys","forEach","bleepName","_b","_c","_d","bleepSettings","unloadBleep","bleepCategory","category","process","env","NODE_ENV","undefined","BLEEPS_CATEGORIES","includes","Error","audioCategorySettings","categories","processedAudioSettings","playerSettings","player","hasBleepUpdatedSrc","_settings","src","find","v","hasBleepUpdatedFormat","format","updateBleep","createBleep"],"sources":["/Users/Ibis/Projects/project_mern_memories/client/node_modules/@arwes/sounds/lib/utils/createOrUpdateBleeps/createOrUpdateBleeps.js"],"sourcesContent":["\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createOrUpdateBleeps = void 0;\nvar constants_1 = require(\"../../constants\");\nvar createBleep_1 = require(\"../createBleep\");\nvar updateBleep_1 = require(\"../updateBleep\");\nvar unloadBleep_1 = require(\"../unloadBleep\");\nvar unloadBleeps_1 = require(\"../unloadBleeps\");\nvar createOrUpdateBleeps = function (providedBleeps, audioSettings, playersSettings, bleepsSettings) {\n    var _a;\n    var bleeps = providedBleeps !== null && providedBleeps !== void 0 ? providedBleeps : {};\n    if ((_a = audioSettings.common) === null || _a === void 0 ? void 0 : _a.disabled) {\n        unloadBleeps_1.unloadBleeps(bleeps);\n        return bleeps;\n    }\n    Object.keys(bleepsSettings).forEach(function (bleepName) {\n        var _a, _b, _c, _d;\n        var bleepSettings = bleepsSettings[bleepName];\n        if (!bleepSettings) {\n            unloadBleep_1.unloadBleep(bleeps, bleepName);\n            return;\n        }\n        var bleepCategory = bleepSettings.category;\n        if (process.env.NODE_ENV !== 'production' &&\n            bleepCategory !== undefined &&\n            !constants_1.BLEEPS_CATEGORIES.includes(bleepCategory)) {\n            throw new Error(\"Bleep category \\\"\" + bleepCategory + \"\\\" is not valid.\");\n        }\n        var audioCategorySettings = (_a = audioSettings.categories) === null || _a === void 0 ? void 0 : _a[bleepCategory];\n        var processedAudioSettings = __assign(__assign({}, audioSettings.common), audioCategorySettings);\n        if (processedAudioSettings.disabled) {\n            unloadBleep_1.unloadBleep(bleeps, bleepName);\n            return;\n        }\n        var playerSettings = playersSettings[bleepSettings.player];\n        if (!playerSettings) {\n            throw new Error(\"Component bleep requires a provided player. Player \\\"\" + bleepSettings.player + \"\\\" was not found.\");\n        }\n        if (playerSettings.disabled) {\n            unloadBleep_1.unloadBleep(bleeps, bleepName);\n            return;\n        }\n        // If a bleep has updated `src` or `format` settings, it should be re-created.\n        // Otherwise it is updated to be fast and prevent more HTTP requests.\n        var hasBleepUpdatedSrc = !!((_b = bleeps[bleepName]) === null || _b === void 0 ? void 0 : _b._settings.src.find(function (v, i) { return v !== playerSettings.src[i]; }));\n        var hasBleepUpdatedFormat = !!((_d = (_c = bleeps[bleepName]) === null || _c === void 0 ? void 0 : _c._settings.format) === null || _d === void 0 ? void 0 : _d.find(function (v, i) { var _a; return v !== ((_a = playerSettings.format) === null || _a === void 0 ? void 0 : _a[i]); }));\n        if (bleeps[bleepName] && !hasBleepUpdatedSrc && !hasBleepUpdatedFormat) {\n            updateBleep_1.updateBleep(bleeps[bleepName], processedAudioSettings, playerSettings);\n        }\n        else {\n            unloadBleep_1.unloadBleep(bleeps, bleepName);\n            bleeps[bleepName] = createBleep_1.createBleep(processedAudioSettings, playerSettings);\n        }\n    });\n    return bleeps;\n};\nexports.createOrUpdateBleeps = createOrUpdateBleeps;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}
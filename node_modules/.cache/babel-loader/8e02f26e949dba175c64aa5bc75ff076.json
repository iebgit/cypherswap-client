{"ast":null,"code":"var _jsxFileName = \"/Users/Ibis/Projects/project_mern_memories/client/src/components/NavBar/NavBar.js\";\nimport React, { useState, useEffect } from 'react';\nimport { AppBar, Typography, Toolbar, Avatar } from '@material-ui/core';\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport \"./NavBar.css\";\nimport { Text, Button, FramePentagon, FrameCorners, FrameBox } from '@arwes/core';\nimport decode from 'jwt-decode';\nimport Logo from '../../images/logo.png';\nimport * as actionType from '../../constants/actionTypes';\nimport useStyles from './styles';\nconst Navbar = () => {\n  const [user, setUser] = useState(JSON.parse(localStorage.getItem('profile')));\n  const dispatch = useDispatch();\n  const location = useLocation();\n  const navigate = useNavigate();\n  const classes = useStyles();\n  const logout = () => {\n    dispatch({\n      type: actionType.LOGOUT\n    });\n    navigate('/auth');\n    setUser(null);\n  };\n  const userAccount = username => {\n    dispatch({\n      type: actionType.FETCH_BY_CREATOR\n    });\n    navigate(`/creators/${username}`);\n  };\n  const toSwap = () => {\n    navigate(`/swap`);\n  };\n  const toHome = () => {\n    navigate(`/home`);\n  };\n  useEffect(() => {\n    const token = user === null || user === void 0 ? void 0 : user.token;\n    if (token) {\n      const decodedToken = decode(token);\n      if (decodedToken.exp * 1000 < new Date().getTime()) logout();\n    }\n    setUser(JSON.parse(localStorage.getItem('profile')));\n  }, [location]);\n  return /*#__PURE__*/React.createElement(AppBar, {\n    className: classes.appBar,\n    position: \"static\",\n    color: \"inherit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Toolbar, {\n    className: classes.toolbar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/home\",\n    className: classes.brandContainer,\n    onClick: () => toHome(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, \"\\xA0\", /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 2.2,\n    stroke: \"currentColor\",\n    className: \" mt-4 w-7 h-7\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 3\n    }\n  })), /*#__PURE__*/React.createElement(Text, {\n    className: classes.heading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, \"\\xA0Home\")), (user === null || user === void 0 ? void 0 : user.result) ? /*#__PURE__*/React.createElement(Link, {\n    to: \"/swap\",\n    className: classes.brandContainer,\n    onClick: () => toSwap(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 2.2,\n    stroke: \"currentColor\",\n    className: \"ml-5 mr-2 mt-4 w-7 h-7\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M7.5 21L3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }\n  })), /*#__PURE__*/React.createElement(Text, {\n    className: classes.heading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, \"Swap\")) : /*#__PURE__*/React.createElement(React.Fragment, null)), /*#__PURE__*/React.createElement(Toolbar, {\n    className: classes.toolbar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }, (user === null || user === void 0 ? void 0 : user.result) ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Link, {\n    to: `/creators/${user === null || user === void 0 ? void 0 : user.result.name}`,\n    className: classes.profile,\n    onClick: () => userAccount(user === null || user === void 0 ? void 0 : user.result.name),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    className: classes.purple,\n    alt: user === null || user === void 0 ? void 0 : user.result.name,\n    src: user === null || user === void 0 ? void 0 : user.result.imageUrl,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  }, user === null || user === void 0 ? void 0 : user.result.name.charAt(0))), /*#__PURE__*/React.createElement(Button, {\n    FrameComponent: FramePentagon,\n    palette: \"secondary\",\n    onClick: logout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 14\n    }\n  }, \"Logout\")) : /*#__PURE__*/React.createElement(Link, {\n    to: \"/auth\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    FrameComponent: FramePentagon,\n    palette: \"secondary\",\n    animator: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  }, \"Sign In\"))));\n};\nexport default Navbar;","map":{"version":3,"names":["React","useState","useEffect","AppBar","Typography","Toolbar","Avatar","Link","useNavigate","useLocation","useDispatch","Text","Button","FramePentagon","FrameCorners","FrameBox","decode","Logo","actionType","useStyles","Navbar","user","setUser","JSON","parse","localStorage","getItem","dispatch","location","navigate","classes","logout","type","LOGOUT","userAccount","username","FETCH_BY_CREATOR","toSwap","toHome","token","decodedToken","exp","Date","getTime","appBar","toolbar","brandContainer","heading","result","name","profile","purple","imageUrl","charAt"],"sources":["/Users/Ibis/Projects/project_mern_memories/client/src/components/NavBar/NavBar.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { AppBar, Typography, Toolbar, Avatar } from '@material-ui/core';\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport \"./NavBar.css\";\nimport {\n    Text,\n    Button, \n    FramePentagon,\n    FrameCorners,\n    FrameBox,} from '@arwes/core'\nimport decode from 'jwt-decode';\n\nimport Logo from '../../images/logo.png';\nimport * as actionType from '../../constants/actionTypes';\nimport useStyles from './styles';\n\nconst Navbar = () => {\n  const [user, setUser] = useState(JSON.parse(localStorage.getItem('profile')));\n  const dispatch = useDispatch();\n  const location = useLocation();\n  const navigate = useNavigate();\n  const classes = useStyles();\n\n  const logout = () => {\n    dispatch({ type: actionType.LOGOUT });\n    navigate('/auth');\n    setUser(null);\n  };\n\n  const userAccount = (username) => {\n    dispatch({ type: actionType.FETCH_BY_CREATOR })\n    navigate(`/creators/${username}`)\n  }\n  const toSwap = () => {\n    navigate(`/swap`)\n  }\n\n  const toHome = () => {\n    navigate(`/home`)\n  }\n\n  useEffect(() => {\n    const token = user?.token;\n\n    if (token) {\n      const decodedToken = decode(token);\n\n      if (decodedToken.exp * 1000 < new Date().getTime()) logout();\n    }\n\n    setUser(JSON.parse(localStorage.getItem('profile')));\n  }, [location]);\n\n  return (\n    <AppBar className={classes.appBar} position=\"static\" color=\"inherit\">\n        <Toolbar className={classes.toolbar}>\n      <Link to=\"/home\" className={classes.brandContainer} onClick={()=>toHome()}>\n      &nbsp;<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={2.2} stroke=\"currentColor\" className=\" mt-4 w-7 h-7\">\n  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25\" />\n</svg>\n\n        <Text className={classes.heading} >&nbsp;Home</Text>\n      </Link>\n      {user?.result ? \n        <Link to=\"/swap\" className={classes.brandContainer} onClick={()=>toSwap()}>\n        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={2.2} stroke=\"currentColor\" className=\"ml-5 mr-2 mt-4 w-7 h-7\">\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M7.5 21L3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5\" />\n  </svg>\n  \n          <Text className={classes.heading}>Swap</Text>\n        </Link>:<></>\n    }\n    \n      </Toolbar>\n      <Toolbar className={classes.toolbar}>\n        {user?.result ? (\n            <>\n            <Link to={`/creators/${user?.result.name}`} className={classes.profile} onClick={()=>userAccount(user?.result.name)}>\n                <Avatar className={classes.purple} alt={user?.result.name} src={user?.result.imageUrl}>\n                {user?.result.name.charAt(0)}\n                </Avatar>\n            </Link>\n             <Button FrameComponent={FramePentagon} palette=\"secondary\" onClick={logout}>Logout</Button>\n\n            </>\n         \n        ) : (\n            <Link to=\"/auth\">\n                <Button\n                    FrameComponent={FramePentagon}\n                    palette=\"secondary\"\n                    animator={true}\n                  >\n                   Sign In\n                  </Button>\n            </Link>\n        )}\n      </Toolbar>\n    </AppBar>\n  );\n};\n\nexport default Navbar;"],"mappings":"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"},"metadata":{},"sourceType":"module"}